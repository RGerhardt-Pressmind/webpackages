<IfModule mod_rewrite.c>
    RewriteEngine On

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.+)\.(\d+)\.(js|css|png|jpe?g)$ $1.$3 [L]

    RewriteRule ^([^/]*)/([^/]*)\.html$ /index.php?c=$1&m=$2 [L]
</IfModule>

<IfModule mod_headers.c>
    # Akzeptiert das Encoding
    <FilesMatch ".(js|css|xml|gz|html|svg|woff2)$">
        Header append Vary: Accept-Encoding
    </FilesMatch>

    # Keep-Alive aktivieren
    Header set Connection keep-alive

    # Ablaufdatum standart auf 3 Tage
    ExpiresActive On
    ExpiresDefault A259200

    # 1 Monat folgenden Dateitypen Cachen
    <FilesMatch ".(ico|gif|jpg|jpeg|png|flv|pdf|swf|mov|mp3|wmv|ppt|js|css|svg)$">
        ExpiresDefault A2419200
        Header append Cache-Control "public"
    </FilesMatch>

    # 2 Stunden folgende Dateitypen Cachen
    <FilesMatch ".(xml|txt|html)$">
        ExpiresDefault A7200
        Header append Cache-Control "private, must-revalidate"
    </FilesMatch>

    # Folgende Dateitypen nie cachen
    <FilesMatch ".(php|cgi|pl|htm)$">
        ExpiresDefault A0
        Header set Cache-Control "no-store, no-cache, must-revalidate, max-age=0"
        Header set Pragma "no-cache"
    </FilesMatch>
</IfModule>

# Kompirimierung bei folgenden Mime-Types erlauben
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/plain
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE text/javascript
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE application/rss+xml
    AddOutputFilterByType DEFLATE application/atom_xml
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/x-javascript
    AddOutputFilterByType DEFLATE application/x-shockwave-flash

    <FilesMatch "\.(js|jpg|jpeg|gif|png|css|woff)$">
        ExpiresActive on
        ExpiresDefault "access plus 1 month"
        SetOutputFilter DEFLATE
    </FilesMatch>
</IfModule>


# ETag deaktivieren
Header unset ETag
FileETag None